<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Calendar 2018 (With Holidays)</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: black;
      color: #eee;
      font-family: Arial, sans-serif;
      background-image: url('data:image/png;base64,...'); /* white smoke texture encoded or link */
      background-size: cover;
    }

    .calendar-container {
      background: rgba(transfarent);
      margin: 20px auto;
      padding: 20px;
      max-width: 900px;
      border-radius: 10px;
    }

    .month {
      margin: 20px 0;
    }

    .month-name {
      text-align: center;
      font-size: 1.5em;
      margin-bottom: 10px;
    }

    .weeks {
      display: grid;
      grid-template-columns: repeat(8, 1fr); /* 1 for week number, 7 for days */
      gap: 5px;
    }

    .day-name, .day, .week-num {
      padding: 5px;
      text-align: center;
    }

    .day-name {
      font-weight: bold;
      border-bottom: 1px solid #555;
    }

    .holiday {
      background: rgba(117, 116, 116, 0.7);
      cursor: pointer;
      border-radius: 4px;
    }

    /* Popup / Modal */
    .modal {
      display: none;
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: #222;
      padding: 20px;
      border: 2px solid #444;
      border-radius: 8px;
      z-index: 100;
      max-width: 400px;
      color: #eee;
    }
    .modal img {
      max-width: 100%;
      margin-bottom: 10px;
    }
    .modal .close {
      position: absolute;
      top: 5px; right: 10px;
      cursor: pointer;
      font-size: 1.2em;
    }

    .overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 90;
    }
  </style>
</head>
<body>
  <div class="calendar-container" id="calendar"></div>

  <div class="overlay" id="overlay"></div>
  <div class="modal" id="modal">
    <span class="close" id="modal-close">&times;</span>
    <h2 id="modal-title"></h2>
    <img id="modal-image" src="" alt="">
    <p id="modal-desc"></p>
  </div>

  <script>
    const holidays = {
      "2018-01-01": { name: "New Year's Day", desc: "First day of the year.", img: "https://via.placeholder.com/350x150?text=New+Year" },
      "2018-03-29": { name: "Maundy Thursday", desc: "Christian observance.", img: "https://via.placeholder.com/350x150?text=Maundy+Thursday" },
      "2018-03-30": { name: "Good Friday", desc: "Death of Christ.", img: "https://via.placeholder.com/350x150?text=Good+Friday" },
      "2018-04-09": { name: "Araw ng Kagitingan (Day of Valor)", desc: "Commemorates Bataan Death March.", img: "https://via.placeholder.com/350x150?text=Day+of+Valor" },
      "2018-05-01": { name: "Labor Day", desc: "Workers' holiday.", img: "https://via.placeholder.com/350x150?text=Labor+Day" },
      "2018-06-12": { name: "Independence Day", desc: "Philippine independence.", img: "https://via.placeholder.com/350x150?text=Independence+Day" },
      "2018-08-27": { name: "National Heroes Day", desc: "Honors national heroes.", img: "https://via.placeholder.com/350x150?text=Heroes+Day" },
      "2018-11-30": { name: "Bonifacio Day", desc: "Commemorates Andres Bonifacio.", img: "https://via.placeholder.com/350x150?text=Bonifacio+Day" },
      "2018-12-25": { name: "Christmas Day", desc: "Birth of Jesus Christ.", img: "https://via.placeholder.com/350x150?text=Christmas" },
      "2018-12-30": { name: "Rizal Day", desc: "Commemorates Jose Rizal.", img: "https://via.placeholder.com/350x150?text=Rizal+Day" },
    };

    function getWeekNumber(dt) {
      const d = new Date(Date.UTC(dt.getFullYear(), dt.getMonth(), dt.getDate()));
      const dayNum = d.getUTCDay() || 7;
      d.setUTCDate(d.getUTCDate() + 4 - dayNum);
      const yearStart = new Date(Date.UTC(d.getUTCFullYear(),0,1));
      return Math.ceil((((d - yearStart) / 86400000) + 1)/7);
    }

    function renderCalendar(year) {
      const container = document.getElementById('calendar');
      const dayNames = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"];
      for (let month = 0; month < 12; month++) {
        const monthDiv = document.createElement('div');
        monthDiv.className = 'month';
        const monthName = new Date(year, month).toLocaleString('en', { month: 'long' }) + ' ' + year;
        monthDiv.innerHTML = `<div class="month-name">${monthName}</div>`;

        const weeksDiv = document.createElement('div');
        weeksDiv.className = 'weeks';

        weeksDiv.innerHTML = `<div class="week-num">Wk#</div>` + dayNames.map(d => `<div class="day-name">${d}</div>`).join('');

        const firstDay = new Date(year, month, 1).getDay();
        const startOffset = (firstDay + 6) % 7; // shift Sunday=0 to index 6

        let day = 1, done = false;
        while (!done) {
          const anyDay = new Date(year, month, day);
          if (anyDay.getMonth() !== month) break;

          const weekNum = getWeekNumber(anyDay);
          weeksDiv.innerHTML += `<div class="week-num">${weekNum}</div>`;

          for (let i = 0; i < 7; i++) {
            if (day === 1 && i < startOffset) {
              weeksDiv.innerHTML += '<div class="day"></div>';
            } else if (new Date(year, month, day).getMonth() === month) {
              const dateStr = `${year}-${(month+1).toString().padStart(2,'0')}-${day.toString().padStart(2,'0')}`;
              const isHol = holidays[dateStr];
              const cls = isHol ? 'day holiday' : 'day';
              const txt = day;
              weeksDiv.innerHTML += `<div class="${cls}" data-date="${dateStr}">${txt}</div>`;
              day++;
            } else {
              weeksDiv.innerHTML += '<div class="day"></div>';
              done = true;
            }
          }
        }

        monthDiv.appendChild(weeksDiv);
        container.appendChild(monthDiv);
      }
    }

    renderCalendar(2018);

    const overlay = document.getElementById('overlay');
    const modal = document.getElementById('modal');
    const mt = document.getElementById('modal-title');
    const mi = document.getElementById('modal-image');
    const md = document.getElementById('modal-desc');
    const mclose = document.getElementById('modal-close');

    document.getElementById('calendar').addEventListener('click', e => {
      const d = e.target.dataset.date;
      if (d && holidays[d]) {
        const h = holidays[d];
        mt.textContent = h.name;
        mi.src = h.img;
        md.textContent = h.desc;
        overlay.style.display = 'block';
        modal.style.display = 'block';
      }
    });

    mclose.onclick = () => {
      overlay.style.display = 'none';
      modal.style.display = 'none';
    };
    overlay.onclick = mclose;
  </script>
</body>
</html>
